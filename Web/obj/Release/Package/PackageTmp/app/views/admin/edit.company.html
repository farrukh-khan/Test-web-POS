<div ng-controller="companyController">
    <div class="app-view-header">
        Company
    </div>

    <!--<div class="container container-sm animated">-->
    <!-- START row-->
    <div class="row">
        <div class="col-md-12">

            <!--novalidate-->

            <form name="editCompanyForm" ng-submit="companyEditSubmit(editCompanyForm.$valid)">

                <!-- START panel-->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4>
                            Company Information
                        </h4>
                    </div>
                    <div class="panel-body">

                        <fieldset>
                            <div class="form-group">
                                <label class="col-sm-2 control-label" style="padding-top:10px">Active</label>
                                <div class="col-sm-6">
                                    <div class="checkbox c-checkbox needsclick">
                                        <label class="needsclick">
                                            <input type="checkbox" value="" class="needsclick" ng-model="cModel.isActive" />
                                            <span class="fa fa-check"></span>
                                        </label>
                                    </div>
                                </div>

                            </div>
                        </fieldset>


                        <fieldset>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Name*</label>
                                <div class="col-sm-6">
                                    <input type="text" name="name" ng-model="cModel.name" placeholder="Company Name" class="form-control" required="" />
                                </div>

                            </div>
                        </fieldset>


                        <fieldset>

                            <div class="form-group">
                                <label class="col-sm-2 control-label">Customer</label>
                                <div class="col-sm-6">

                                    <select class="form-control" ng-model="cModel.iCustomer" ng-options="o.iCustomer as o.name for o in customerList" required=""></select>


                                </div>
                            </div>
                        </fieldset>

                        <fieldset>

                            <div class="form-group">
                                <label class="col-sm-2 control-label">Country</label>
                                <div class="col-sm-6">

                                    <select class="form-control" ng-model="cModel.countryId" ng-options="o.id as o.title for o in countryList" required=""></select>

                                </div>
                            </div>
                        </fieldset>

                    </div>
                    <div class="panel-footer text-center">
                        <button type="button" class="btn btn-info" ng-click="cancel()">Cancel</button>
                        <button type="submit" class="btn btn-info" ng-disabled="editCompanyForm.$invalid">Submit</button>

                    </div>
                </div>
                <!-- END panel-->
                <!-- END row-->

            </form>

            <div class="app-view-header">
                Roles
                <a href="#/app/companyrole?id=0&companyid={{cModel.id}}" class="btn btn-success pull-right" style="margin-top:10px;">Create Role</a>
            </div>

            <div class="container-fluid">

                <table class="table table-bordered table-hover bg-white">
                    <tr style="font-weight: bold">
                        <td style="width:80%">Name</td>
                        <td></td>
                    </tr>

                    <tr ng-repeat="role in rolesList">
                        <td>
                            <span>{{ role.roleName}}</span>
                        </td>

                        <td style="white-space: nowrap">

                            <div class="buttons">
                                <a href="#/app/companyrole?id={{role.id}}&companyid={{cModel.id}}" title="Edit" class="btn btn-sm btn-info">
                                    <em class="fa fa-pencil"></em>
                                </a>
                                <button ng-click="roleDelete(role.id)" title="Delete" class="btn btn-sm btn-danger">
                                    <em class="fa fa-trash"></em>
                                </button>
                            </div>
                        </td>
                    </tr>
                </table>

            </div>





            <div class="app-view-header">
                Users
                <a href="#/app/companyuser?id=0&companyid={{cModel.id}}" class="btn btn-success pull-right" style="margin-top:10px;">Create new User</a>
            </div>

            <div class="container-fluid">

                <table class="table table-bordered table-hover bg-white">
                    <tr style="font-weight: bold">
                        <td style="width:20%">First Name</td>
                        <td style="width:20%">Last Name</td>
                        <td style="width:30%">Email</td>
                        <td style="width:10%">Role</td>
                        <td style="width:10%">Active</td>
                        <td style="width:10%"></td>
                    </tr>

                    <tr ng-repeat="user in userList">
                        <td>
                            <span>{{ user.firstName}}</span>
                        </td>
                        <td>
                            <span>{{ user.lastName}}</span>
                        </td>
                        <td>
                            <span>{{ user.email}}</span>
                        </td>
                        <td>
                            <span>{{ user.roleName}}</span>
                        </td>
                        <td>
                            <span>{{ user.isActive?"Yes":"No"}}</span>
                        </td>

                        <td style="white-space: nowrap">

                            <div class="buttons">
                                <a href="#/app/companyuser?id={{user.id}}&companyid={{cModel.id}}" title="Edit" class="btn btn-sm btn-info">
                                    <em class="fa fa-pencil"></em>
                                </a>
                                <button ng-click="deleteUser(user.id)" title="Delete" class="btn btn-sm btn-danger">
                                    <em class="fa fa-trash"></em>
                                </button>

                                <button ng-click="loginUser(user.email,user.password)" title="Login" class="btn btn-sm btn-success">
                                    Login
                                </button>

                            </div>
                        </td>
                    </tr>
                </table>

            </div>



        </div>
    </div>

    <!--</div>-->
</div>